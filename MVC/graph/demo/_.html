<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>graph</title>
</head>

<body>

  <h1>graph demo</h1>
  <p></p>
  <sfc-tree-v></sfc-tree-v>
  <div id="msg"></div>

</body>
</html>


<script>
let app // only global variable
</script>

<script type="module">
// controler for graph model and view
import {model_graph } from '/_lib/MVC/graph/m.mjs'  ; 
import {viewer_graph} from '/_lib/MVC/graph/v.mjs'  ; 

class appClass {


constructor(){
  this.viewer = new 
  this.model  = new model_graph(this.viewer);

  const david_id   = this.model_node_add(["David"  , {} ])
  const barbara_id = this.model_node_add(["Barbara", {}  ]);
  const matthew_id = this.model_node_add(["Matthew", {}   ]);
  const lisa_id    = this.model_node_add(["Lisa"   , {}]);

  this.model_edge_add(  [david_id  , "parent", matthew_id, {}]);
  this.model_edge_add(  [barbara_id, "parent", matthew_id, {}]);

  this.model_edge_add(  [david_id  , "parent", lisa_id, {}]);
  this.model_edge_add(  [barbara_id, "parent", lisa_id, {}]);
}


async main() {

  const {sfc_nav_tree} = await import(`${this.lib}/_lib/MVC/tree/v.mjs`);  // import code for <sfc-nav-tree>
  this.sfc_nav_tree    = document.querySelector("sfc-nav-tree");                            // rember <sfc-nav-tree>

  // add a menue
  this.sfc_nav_tree.html_add(`
<select size="10" onclick="app.show(this)">
<option value="1">display value</option>
<option value="2">sub menu</option>
<option value="3">clear</option>
</select></div>  `);
}


show(element){
  switch (element.value) {
    case "1":  
    case "4":  
    document.getElementById("msg").innerHTML = element.value;  break;
  
    case "2": this.sfc_nav_tree.html_add(`
    <select size="10" onclick="app.show(this)">
<option value="4">display value</option>
<option value="5">go back one level</option>
</select>  
    `); break;
    case "3":  this.sfc_nav_tree.delete_to(0) ; break;
    case "5":  this.sfc_nav_tree.delete_to(1) ; break;
  }

}


} // end of class

app = new appClass();
app.main();

</script>